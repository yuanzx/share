<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="/javascripts/application.js" type="text/javascript" charset="utf-8" async defer></script>
</head>

<body>
    <span>
        <p>asdfasfasdf</p>
    </span>
    <div>
        <h2>简单的web存储留言板</h2>
        <textarea id="t1" cols="40" rows="5"></textarea>
        <br />
        <input type="button" onclick="addInfo()" value="留言" />
        <input type="button" onclick="cleanInfo()" value="清除留言" />
        <br />
        <hr />
        <label id="shows"></label>
        <div id="show"></div>
    </div>
    <script>
    function upInfo() {
        var lStorage = window.localStorage;
        var show = window.document.getElementById("show");
        if (window.localStorage.myBoard) {
            show.innerHTML = window.localStorage.myBoard;
        } else {
            show.innerHTML = "还没有留言";
        }
    }

    function addInfo() {
        var info = window.document.getElementById("t1");
        var lStorage = window.localStorage;
        if (lStorage.myBoard) {
            var date = new Date();
            lStorage.myBoard += t1.value + "<br/>发表时间：" + date.toLocaleString() + "<br/>";
        } else {
            var date = new Date();
            lStorage.myBoard = t1.value + "<br/>发表时间：" + date.toLocaleString() + "<br/>";
        }
        upInfo();
    }

    function cleanInfo() {
        window.localStorage.removeItem("myBoard");
        upInfo();
    }
    upInfo();
    </script>
</body>

</html>
